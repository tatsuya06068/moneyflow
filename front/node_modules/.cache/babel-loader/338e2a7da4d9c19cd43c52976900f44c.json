{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react'; // /api/privateへのリクエスト\n// /api/privateへのリクエスト\n\nconst privateApiRequest = async () => {\n  const myHeaders = new Headers();\n  const accessToken = await auth0.getTokenSilently();\n  myHeaders.set(\"Authorization\", \"Bearer \" + accessToken);\n  const response = await fetch(\"http://{ホスト名}/api/private\", {\n    method: \"GET\",\n    headers: myHeaders\n  }).then(res => {\n    return res.json();\n  }).catch(err => {\n    console.log(err);\n  });\n  alert(JSON.stringify(response));\n};\n\nfunction LoginAxios() {\n  _s();\n\n  const {\n    user,\n    getAccessTokenSilently\n  } = useAuth0();\n  const myHeaders = new Headers();\n  const accessToken = getAccessTokenSilently();\n  myHeaders.set('Authorization', 'Bearer ' + accessToken);\n  console.log(accessToken);\n  useEffect(() => {\n    axios.get(\"http://localhost:3000/api/private\", {\n      headers: {\n        Authorization: \"Bearer \" + accessToken\n      }\n    }).then(res => {\n      alert(res);\n      console.log(res);\n      return res;\n    }).catch(err => {\n      console.log(err);\n      alert(err);\n    });\n  });\n}\n\n_s(LoginAxios, \"XBiRWgPc6PrLc6szW4y1Co4QyTM=\", false, function () {\n  return [useAuth0];\n});\n\n_c = LoginAxios;\nexport default LoginAxios;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginAxios\");","map":{"version":3,"sources":["/moneyflow/src/common/LoginAxios.ts"],"names":["axios","useEffect","useAuth0","privateApiRequest","myHeaders","Headers","accessToken","auth0","getTokenSilently","set","response","fetch","method","headers","then","res","json","catch","err","console","log","alert","JSON","stringify","LoginAxios","user","getAccessTokenSilently","get","Authorization"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,oBAAzB,C,CAEA;AAEA;;AACA,MAAMC,iBAAiB,GAAG,YAAY;AACpC,QAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACA,QAAMC,WAAW,GAAG,MAAMC,KAAK,CAACC,gBAAN,EAA1B;AACAJ,EAAAA,SAAS,CAACK,GAAV,CAAc,eAAd,EAA+B,YAAYH,WAA3C;AACA,QAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,2BAAD,EAA8B;AACxDC,IAAAA,MAAM,EAAE,KADgD;AAExDC,IAAAA,OAAO,EAAET;AAF+C,GAA9B,CAAL,CAIpBU,IAJoB,CAIdC,GAAD,IAAS;AACb,WAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,GANoB,EAOpBC,KAPoB,CAObC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAToB,CAAvB;AAUAG,EAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeb,QAAf,CAAD,CAAL;AACD,CAfD;;AAiBA,SAASc,UAAT,GAAsB;AAAA;;AACpB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAkCxB,QAAQ,EAAhD;AACA,QAAME,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACA,QAAMC,WAAW,GAAGoB,sBAAsB,EAA1C;AACAtB,EAAAA,SAAS,CAACK,GAAV,CAAc,eAAd,EAA+B,YAAYH,WAA3C;AACAa,EAAAA,OAAO,CAACC,GAAR,CAAYd,WAAZ;AACEL,EAAAA,SAAS,CACP,MAAM;AACJD,IAAAA,KAAK,CAAC2B,GAAN,CAAU,mCAAV,EAA+C;AAAEd,MAAAA,OAAO,EAAE;AACtDe,QAAAA,aAAa,EAAE,YAAYtB;AAD2B;AAAX,KAA/C,EAICQ,IAJD,CAIOC,GAAD,IAAS;AACbM,MAAAA,KAAK,CAACN,GAAD,CAAL;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACA,aAAOA,GAAP;AACD,KARD,EASCE,KATD,CASQC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,KAAK,CAACH,GAAD,CAAL;AACD,KAZD;AAcD,GAhBM,CAAT;AAiBH;;GAvBQM,U;UACiCtB,Q;;;KADjCsB,U;AAwBT,eAAeA,UAAf","sourcesContent":["import axios from 'axios'\nimport React, { useEffect } from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\n\n// /api/privateへのリクエスト\n\n// /api/privateへのリクエスト\nconst privateApiRequest = async () => {\n  const myHeaders = new Headers();\n  const accessToken = await auth0.getTokenSilently();\n  myHeaders.set(\"Authorization\", \"Bearer \" + accessToken);\n  const response = await fetch(\"http://{ホスト名}/api/private\", {\n    method: \"GET\",\n    headers: myHeaders\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  alert(JSON.stringify(response));\n};\n\nfunction LoginAxios() {\n  const { user, getAccessTokenSilently} = useAuth0();\n  const myHeaders = new Headers();\n  const accessToken = getAccessTokenSilently();\n  myHeaders.set('Authorization', 'Bearer ' + accessToken) \n  console.log(accessToken)\n    useEffect(\n      () => {\n        axios.get(\"http://localhost:3000/api/private\", { headers: {\n            Authorization: \"Bearer \" + accessToken\n            },\n            })\n        .then((res) => {\n          alert(res)\n          console.log(res)\n          return res;\n        })\n        .catch((err) => {\n          console.log(err);\n          alert(err)\n        });\n        \n      });\n}\nexport default LoginAxios;"]},"metadata":{},"sourceType":"module"}