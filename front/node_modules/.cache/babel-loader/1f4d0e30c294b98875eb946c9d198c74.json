{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  BoPItems: []\n}; //BoPList取得\n\nconst GetBoPList = async accessToken => {\n  console.log(accessToken);\n  return axios.get(\"http://localhost:3000/balance_of_payments\", {\n    headers: {\n      Authorization: \"Bearer \" + accessToken\n    }\n  });\n}; //BoP登録\n\n\n_c = GetBoPList;\n\nconst InsBoP = async (accessToken, title, date, totalMoney) => {\n  const sDate = date.split('-');\n  return axios.post(\"http://localhost:3000/balance_of_payments\", {\n    title: title,\n    date: Date.parse(sDate[0], sDate[1]),\n    totalmoney: totalMoney\n  }, {\n    headers: {\n      Authorization: \"Bearer \" + accessToken,\n      'Content-Type': 'application/json'\n    }\n  });\n};\n\n_c2 = InsBoP;\nexport const ResponseBoPIns = createAsyncThunk('balanceOfPayment/boPIns', async ({\n  accessToken,\n  title,\n  date,\n  totalMoney\n}) => {\n  return InsBoP(accessToken, title, date, totalMoney).then(res => {\n    return res;\n  }).catch(err => {\n    console.log(Promise.resolve(err));\n    return err;\n  });\n}); //BoP一覧取得   \n\nexport const ResponseBoPList = createAsyncThunk('balanceOfPayment/boPList', async ({\n  accessToken\n}) => {\n  return GetBoPList(accessToken).then(res => {\n    console.log(res);\n    return {\n      balanceOfPayment: res\n    };\n  }).catch(err => {\n    console.log(Promise.resolve(err));\n    return err;\n  });\n});\nexport const BoPSlice = createSlice({\n  name: 'balanceOfPayment',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(ResponseBoPList.fulfilled, (state, action) => {\n      state.BoPItems = action.payload.BoPItems;\n    }).addCase(ResponseBoPIns.fulfilled, (state, action) => {\n      state.BoPItems = action.payload.BoPItems;\n    });\n  }\n});\nexport const {} = BoPSlice.actions;\nexport default BoPSlice;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetBoPList\");\n$RefreshReg$(_c2, \"InsBoP\");","map":{"version":3,"sources":["/moneyflow/src/stores/slices/BoPSlice.ts"],"names":["createSlice","createAsyncThunk","axios","initialState","BoPItems","GetBoPList","accessToken","console","log","get","headers","Authorization","InsBoP","title","date","totalMoney","sDate","split","post","Date","parse","totalmoney","ResponseBoPIns","then","res","catch","err","Promise","resolve","ResponseBoPList","balanceOfPayment","BoPSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","actions"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk, createEntityAdapter, PayloadAction } from '@reduxjs/toolkit'\nimport axios from 'axios'\nimport { BoPState } from '../../models/BoPModel'\n\n\n    type bopListType = BoPState\n\n    const initialState: bopListType = {\n        BoPItems: [],\n    };\n\n//BoPList取得\nconst GetBoPList = async(accessToken: string)=> {\n    console.log(accessToken);\n    return axios.get(\"http://localhost:3000/balance_of_payments\", { headers: {\n        Authorization: \"Bearer \" + accessToken\n        }, \n    })\n}\n//BoP登録\nconst InsBoP = async(accessToken: string, title: string , date: string, totalMoney: string) => {\n    const sDate = date.split('-');\n    return axios.post(\"http://localhost:3000/balance_of_payments\", {  \n         title: title,\n         date: Date.parse(sDate[0], sDate[1], ),\n         totalmoney: totalMoney\n        },\n        {\n            headers: {\n                Authorization: \"Bearer \" + accessToken,\n                'Content-Type': 'application/json'\n        },\n    })\n} \n\nexport const ResponseBoPIns = createAsyncThunk<bopListType, {accessToken: string, title: string, date: string, totalMoney: string} > (\n    'balanceOfPayment/boPIns',\n    async ({accessToken, title, date, totalMoney},): Promise<bopListType> => {\n      return InsBoP(accessToken, title, date, totalMoney)\n      .then((res)=>{\n          return res\n      })\n      .catch((err) => {\n          console.log(Promise.resolve(err));\n          return err;\n      });\n    } \n);\n\n//BoP一覧取得   \nexport const ResponseBoPList = createAsyncThunk<bopListType, {accessToken: string} >(\n    'balanceOfPayment/boPList',\n    async ({accessToken},): Promise<bopListType>=> {\n        return GetBoPList(accessToken)\n         .then((res) => {\n             console.log(res)\n            return {balanceOfPayment: res}\n         })\n         .catch((err) => {\n            console.log(Promise.resolve(err));\n            return err;\n         });\n    }\n);\n\nexport const BoPSlice = createSlice({\n    name: 'balanceOfPayment',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(ResponseBoPList.fulfilled, (state, action) => {\n                state.BoPItems = action.payload.BoPItems\n            })\n            .addCase(ResponseBoPIns.fulfilled, (state, action) =>{\n                state.BoPItems = action.payload.BoPItems\n            })\n        \n    }\n    \n});\n\nexport const {\n    \n} = BoPSlice.actions\n\nexport default BoPSlice\n"]},"metadata":{},"sourceType":"module"}