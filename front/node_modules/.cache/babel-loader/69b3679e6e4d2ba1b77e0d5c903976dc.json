{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { useDispatch } from 'react-redux';\nimport axios from 'axios';\nlet token;\nconst initialState = {\n  BoPItems: []\n};\nexport const responsBoP = (type, accesstoken) => {\n  _s();\n\n  token = accesstoken;\n  const dispatch = useDispatch();\n\n  switch (type) {\n    case 1:\n      dispatch(BoPList());\n  }\n};\n\n_s(responsBoP, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\nconst GetBoPList = async () => {\n  console.log(token);\n  return axios.get(\"http://localhost:3000/api/private\", {\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n}; //BoP一覧取得\n\n\n_c = GetBoPList;\nexport const BoPList = token => {\n  createAsyncThunk('balanceOfPayment/boPList', async (list, thunkAPI) => {\n    return GetBoPList().then(res => {\n      return {\n        balanceOfPayment: res\n      };\n    }).catch(err => {\n      console.log(err);\n      return err;\n    });\n  });\n};\n_c2 = BoPList;\nexport const BoPSlice = createSlice({\n  name: 'balanceOfPayment',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(BoPList.fulfilled, (state, action) => {\n      state.BoPItems = action.payload.BoPItems;\n    });\n  }\n});\nexport const {} = BoPSlice.actions;\nexport default BoPSlice;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetBoPList\");\n$RefreshReg$(_c2, \"BoPList\");","map":{"version":3,"sources":["/moneyflow/src/stores/slices/BoPSlice.ts"],"names":["createSlice","createAsyncThunk","useDispatch","axios","token","initialState","BoPItems","responsBoP","type","accesstoken","dispatch","BoPList","GetBoPList","console","log","get","headers","Authorization","list","thunkAPI","then","res","balanceOfPayment","catch","err","BoPSlice","name","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","actions"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAAkE,kBAAlE;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAII,IAAIC,KAAJ;AAGA,MAAMC,YAAyB,GAAG;AAC9BC,EAAAA,QAAQ,EAAE;AADoB,CAAlC;AAIJ,OAAO,MAAMC,UAAU,GAAG,CAACC,IAAD,EAAeC,WAAf,KAAmC;AAAA;;AACzDL,EAAAA,KAAK,GAAGK,WAAR;AACA,QAAMC,QAAQ,GAAGR,WAAW,EAA5B;;AACA,UAAQM,IAAR;AACI,SAAK,CAAL;AACIE,MAAAA,QAAQ,CAACC,OAAO,EAAR,CAAR;AAFR;AAKH,CARM;;GAAMJ,U;UAEQL,W;;;AAQrB,MAAMU,UAAU,GAAG,YAAW;AAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,SAAOD,KAAK,CAACY,GAAN,CAAU,mCAAV,EAA+C;AAAEC,IAAAA,OAAO,EAAE;AAC7DC,MAAAA,aAAa,EAAE,YAAYb;AADkC;AAAX,GAA/C,CAAP;AAIH,CAND,C,CAQA;;;KARMQ,U;AASN,OAAO,MAAMD,OAAO,GAAIP,KAAD,IAAe;AAClCH,EAAAA,gBAAgB,CAChB,0BADgB,EAEhB,OAAOiB,IAAP,EAAaC,QAAb,KAAgD;AAC5C,WAAOP,UAAU,GACfQ,IADK,CACCC,GAAD,IAAS;AACZ,aAAO;AAACC,QAAAA,gBAAgB,EAAED;AAAnB,OAAP;AACF,KAHK,EAILE,KAJK,CAIEC,GAAD,IAAS;AACbX,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,aAAOA,GAAP;AACF,KAPK,CAAP;AASH,GAZe,CAAhB;AAaF,CAdK;MAAMb,O;AAgBb,OAAO,MAAMc,QAAQ,GAAGzB,WAAW,CAAC;AAChC0B,EAAAA,IAAI,EAAE,kBAD0B;AAEhCrB,EAAAA,YAFgC;AAGhCsB,EAAAA,QAAQ,EAAE,EAHsB;AAIhCC,EAAAA,aAAa,EAAGC,OAAD,IAAa;AACxBA,IAAAA,OAAO,CAACC,OAAR,CAAgBnB,OAAO,CAACoB,SAAxB,EAAmC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClDD,MAAAA,KAAK,CAAC1B,QAAN,GAAiB2B,MAAM,CAACC,OAAP,CAAe5B,QAAhC;AACC,KAFL;AAGH;AAR+B,CAAD,CAA5B;AAWP,OAAO,MAAM,KAETmB,QAAQ,CAACU,OAFN;AAIP,eAAeV,QAAf","sourcesContent":["import { createSlice, createAsyncThunk, bindActionCreators } from '@reduxjs/toolkit'\nimport { useDispatch } from 'react-redux'\nimport axios from 'axios'\nimport { BoPState } from '../../models/BoPModel'\nimport useGetToken from '../../common/useGetToken'\nimport { useAuth0 } from '@auth0/auth0-react' \n    let token: any;\n    type bopListType = BoPState\n\n    const initialState: bopListType = {\n        BoPItems: [],\n    };\n\nexport const responsBoP = (type: number, accesstoken: any) =>{\n    token = accesstoken;\n    const dispatch = useDispatch();\n    switch (type){\n        case 1:\n            dispatch(BoPList())\n    }\n\n}\n\nconst GetBoPList = async() => {\n    console.log(token);\n    return axios.get(\"http://localhost:3000/api/private\", { headers: {\n        Authorization: \"Bearer \" + token\n        }, \n    })\n}\n\n//BoP一覧取得\nexport const BoPList = (token: any) =>{\n    createAsyncThunk<bopListType>(\n    'balanceOfPayment/boPList',\n    async (list, thunkAPI ): Promise<bopListType>=> {\n        return GetBoPList()\n         .then((res) => {\n            return {balanceOfPayment: res}\n         })\n         .catch((err) => {\n            console.log(err);\n            return err;\n         });\n        \n    }\n)};\n\nexport const BoPSlice = createSlice({\n    name: 'balanceOfPayment',\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder.addCase(BoPList.fulfilled, (state, action) => {\n            state.BoPItems = action.payload.BoPItems\n            })\n    }\n});\n\nexport const {\n    \n} = BoPSlice.actions\n\nexport default BoPSlice\n"]},"metadata":{},"sourceType":"module"}