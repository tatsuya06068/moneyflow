{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useAuth0 } from '@auth0/auth0-react'; // /api/privateへのリクエスト\n\nfunction LoginAxios() {\n  _s();\n\n  const {\n    getAccessTokenSilently\n  } = useAuth0();\n  privateApiRequest(getAccessTokenSilently());\n} // /api/privateへのリクエスト\n\n\n_s(LoginAxios, \"CjK7BFNClETg9lh73Dg96CqYMjU=\", false, function () {\n  return [useAuth0];\n});\n\n_c = LoginAxios;\n\nconst privateApiRequest = async () => {\n  const myHeaders = new Headers();\n  const accessToken = await getAccessTokenSilently();\n  myHeaders.set(\"Authorization\", \"Bearer \" + accessToken);\n  const response = await fetch(\"http://{ホスト名}/api/private\", {\n    method: \"GET\",\n    headers: myHeaders\n  }).then(res => {\n    return res.json();\n  }).catch(err => {\n    console.log(err);\n  });\n  alert(JSON.stringify(response));\n}; // function LoginAxios() {\n//   const { user, getAccessTokenSilently} = useAuth0();\n//   const myHeaders = new Headers();\n//   const accessToken = getAccessTokenSilently();\n//   myHeaders.set('Authorization', 'Bearer ' + accessToken) \n//   console.log(accessToken)\n//     useEffect(\n//       () => {\n//         axios.get(\"http://localhost:3000/api/private\", { headers: {\n//             Authorization: \"Bearer \" + accessToken\n//             },\n//             })\n//         .then((res) => {\n//           alert(res)\n//           console.log(res)\n//           return res;\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//           alert(err)\n//         });\n//       });\n//}\n\n\nexport default LoginAxios;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginAxios\");","map":{"version":3,"sources":["/moneyflow/src/common/LoginAxios.ts"],"names":["useAuth0","LoginAxios","getAccessTokenSilently","privateApiRequest","myHeaders","Headers","accessToken","set","response","fetch","method","headers","then","res","json","catch","err","console","log","alert","JSON","stringify"],"mappings":";;AAEA,SAASA,QAAT,QAAyB,oBAAzB,C,CAEA;;AACA,SAASC,UAAT,GAAsB;AAAA;;AAClB,QAAM;AAAEC,IAAAA;AAAF,MAA6BF,QAAQ,EAA3C;AACAG,EAAAA,iBAAiB,CAACD,sBAAsB,EAAvB,CAAjB;AACH,C,CACD;;;GAJSD,U;UAC8BD,Q;;;KAD9BC,U;;AAKT,MAAOE,iBAAiB,GAAG,YAAY;AACrC,QAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACA,QAAMC,WAAW,GAAG,MAAMJ,sBAAsB,EAAhD;AACAE,EAAAA,SAAS,CAACG,GAAV,CAAc,eAAd,EAA+B,YAAYD,WAA3C;AACA,QAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,2BAAD,EAA8B;AACxDC,IAAAA,MAAM,EAAE,KADgD;AAExDC,IAAAA,OAAO,EAAEP;AAF+C,GAA9B,CAAL,CAIpBQ,IAJoB,CAIdC,GAAD,IAAS;AACb,WAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,GANoB,EAOpBC,KAPoB,CAObC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAToB,CAAvB;AAUAG,EAAAA,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeb,QAAf,CAAD,CAAL;AACD,CAfD,C,CAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AACA,eAAeP,UAAf","sourcesContent":["import axios from 'axios'\nimport React, { useEffect } from 'react'\nimport { useAuth0 } from '@auth0/auth0-react'\n\n// /api/privateへのリクエスト\nfunction LoginAxios() {\n    const { getAccessTokenSilently } = useAuth0();\n    privateApiRequest(getAccessTokenSilently());\n}\n// /api/privateへのリクエスト\nconst  privateApiRequest = async () => {\n  const myHeaders = new Headers();\n  const accessToken = await getAccessTokenSilently();\n  myHeaders.set(\"Authorization\", \"Bearer \" + accessToken);\n  const response = await fetch(\"http://{ホスト名}/api/private\", {\n    method: \"GET\",\n    headers: myHeaders\n  })\n    .then((res) => {\n      return res.json();\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  alert(JSON.stringify(response));\n};\n\n// function LoginAxios() {\n//   const { user, getAccessTokenSilently} = useAuth0();\n//   const myHeaders = new Headers();\n//   const accessToken = getAccessTokenSilently();\n//   myHeaders.set('Authorization', 'Bearer ' + accessToken) \n//   console.log(accessToken)\n//     useEffect(\n//       () => {\n//         axios.get(\"http://localhost:3000/api/private\", { headers: {\n//             Authorization: \"Bearer \" + accessToken\n//             },\n//             })\n//         .then((res) => {\n//           alert(res)\n//           console.log(res)\n//           return res;\n//         })\n//         .catch((err) => {\n//           console.log(err);\n//           alert(err)\n//         });\n        \n//       });\n//}\nexport default LoginAxios;"]},"metadata":{},"sourceType":"module"}